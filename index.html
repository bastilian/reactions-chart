<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Reaction Charts for GitHub</title>
    <style media="screen">
      body {
        font-family: Helvetica Neue, Helvetica, Verdana, Arial, sans-serif;
        font-size: 1.5em;
        text-align: center;
      }
      input {
        font-size: 1.5em;
        padding: .2em .5em;
        width: 450px;
        text-align: center;
      }
      img {
        margin: 2em 0;
      }
    </style>
  </head>
  <body>
    <form>
      <p>
        <strong>Enter issue or pull request URL:</strong>
      </p>
      <input class='issue' type="text" name="issue" value='bastilian/test-repo/issues/2'>
    </form>

    <img class='issue-chart' src="/chart/bastilian/test-repo/issues/2" alt="Reactions to the issue!" />

    <pre>
      ![Reactions Chart](http://reactions-chart.bastilian.me/chart/bastilian/test-repo/issues/2)
    </pre>

    <footer>
      <p>
        made with ❤︎ by <a href="http://bastilian.me">@bastilian</a><br />
      </p>
    </footer>
    <a href="https://github.com/bastilian/reactions-chart">
      <img style="position: absolute; top: 0; right: 0; border: 0;margin:0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
    </a>

    <script type="text/javascript">
      function ready(fn) {
        if (document.readyState != 'loading'){
          fn();
        } else {
          document.addEventListener('DOMContentLoaded', fn);
        }
      }

      ready(function () {
        var input = document.querySelectorAll('.issue')[0];
        var img   = document.querySelectorAll('.issue-chart')[0];
        var pre   = document.querySelectorAll('pre')[0];

        input.addEventListener('change', function (event) {
          var url = input.value.replace(/https:\/\/(www\.)?github\.com\//, '');
          img.src = '/chart/' + url;
          pre.textContent = "![Reactions Chart](http://reactions-chart.bastilian.me/" + url + ")";
        });

        document.querySelectorAll('form')[0].addEventListener('submit', function (e) {
          e.preventDefault();
        })
      })
    </script>
  </body>
</html>
